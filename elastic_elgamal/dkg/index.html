<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Committed Pedersen’s distributed key generation (DKG)."><title>elastic_elgamal::dkg - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-47e7ab555ef2818a.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="elastic_elgamal" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.0-nightly (62ebe3a2b 2023-09-08)" data-channel="nightly" data-search-js="search-5d3eaacf19ebf04f.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-f194925aa375ae96.css" data-theme-dark-css="dark-1dd4d1ce031e15de.css" data-theme-ayu-css="ayu-49e58d069f567085.css" ><script src="../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="../../static.files/main-ef3a2de404864b0b.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-f194925aa375ae96.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1dd4d1ce031e15de.css"><link rel="stylesheet" href="../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../elastic_elgamal/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../elastic_elgamal/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module dkg</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">elastic_elgamal</a>::<wbr><a class="mod" href="#">dkg</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/elastic_elgamal/dkg.rs.html#1-680">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Committed Pedersen’s distributed key generation (DKG).</p>
<p>DKG allows to securely generate shared secret without a need for a trusted
dealer. Compare with Feldman’s verifiable secret sharing implemented in the <a href="../sharing/index.html" title="mod elastic_elgamal::sharing"><code>sharing</code></a> module
which requires a trusted dealer.</p>
<p>This implementation is based on <a href="https://link.springer.com/content/pdf/10.1007/3-540-46416-6_47.pdf">Pedersen’s DKG</a>, which was shown by <a href="https://link.springer.com/content/pdf/10.1007/3-540-48910-X_21.pdf">Gennaro et al.</a>
to contain a flaw allowing an adversary to bias distribution of the shared public key.
We try to prevent this kind of possible attacks by forcing the parties to
commit to their public key shares before receiving public shares from other
parties.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Decentralized key generation for 2-of-3 threshold encryption.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>rng = thread_rng();
<span class="kw">let </span>params = Params::new(<span class="number">3</span>, <span class="number">2</span>);

<span class="comment">// Initialize participants.
</span><span class="kw">let </span>participants = (<span class="number">0</span>..<span class="number">3</span>).map(|i| {
    ParticipantCollectingCommitments::&lt;Ristretto&gt;::new(params, i, <span class="kw-2">&amp;mut </span>rng)
});
<span class="kw">let </span><span class="kw-2">mut </span>participants: Vec&lt;<span class="kw">_</span>&gt; = participants.collect();

<span class="comment">// Publish commitments from all participants...
</span><span class="kw">let </span>commitments: Vec&lt;<span class="kw">_</span>&gt; = participants
    .iter()
    .map(|participant| participant.commitment())
    .collect();
<span class="comment">// ...and consume them from each participant&#39;s perspective.
</span><span class="kw">for </span>(i, participant) <span class="kw">in </span>participants.iter_mut().enumerate() {
    <span class="kw">for </span>(j, <span class="kw-2">&amp;</span>commitment) <span class="kw">in </span>commitments.iter().enumerate() {
        <span class="kw">if </span>i != j {
            participant.insert_commitment(j, commitment);
        }
    }
}

<span class="comment">// Transition all participants to the next stage: exchanging polynomials.
</span><span class="kw">let </span><span class="kw-2">mut </span>participants: Vec&lt;<span class="kw">_</span>&gt; = participants
    .into_iter()
    .map(|participant| participant.finish_commitment_phase())
    .collect();
<span class="comment">// Publish each participant&#39;s polynomial...
</span><span class="kw">let </span>infos: Vec&lt;<span class="kw">_</span>&gt; = participants
    .iter()
    .map(|participant| participant.public_info().into_owned())
    .collect();
<span class="comment">// ...and consume them from each participant&#39;s perspective.
</span><span class="kw">for </span>(i, participant) <span class="kw">in </span>participants.iter_mut().enumerate() {
    <span class="kw">for </span>(j, info) <span class="kw">in </span>infos.iter().enumerate() {
        <span class="kw">if </span>i != j {
            participant.insert_public_polynomial(j, info.clone())<span class="question-mark">?</span>;
        }
    }
}

<span class="comment">// Transition all participants to the final phase: exchanging secrets.
</span><span class="kw">let </span><span class="kw-2">mut </span>participants: Vec&lt;<span class="kw">_</span>&gt; = participants
    .into_iter()
    .map(|participant| participant.finish_polynomials_phase())
    .collect();
<span class="comment">// Exchange shares (this should happen over secure peer-to-peer channels).
</span><span class="kw">for </span>i <span class="kw">in </span><span class="number">0</span>..<span class="number">3 </span>{
    <span class="kw">for </span>j <span class="kw">in </span><span class="number">0</span>..<span class="number">3 </span>{
        <span class="kw">if </span>i == j { <span class="kw">continue</span>; }
        <span class="kw">let </span>share = participants[i].secret_share_for_participant(j);
        participants[j].insert_secret_share(i, share)<span class="question-mark">?</span>;
    }
}

<span class="comment">// Finalize all participants.
</span><span class="kw">let </span>participants = participants
    .into_iter()
    .map(|participant| participant.complete())
    .collect::&lt;<span class="prelude-ty">Result</span>&lt;Vec&lt;<span class="kw">_</span>&gt;, <span class="kw">_</span>&gt;&gt;()<span class="question-mark">?</span>;
<span class="comment">// Check that the shared key is the same for all participants.
</span><span class="kw">let </span>expected_key = participants[<span class="number">0</span>].key_set().shared_key();
<span class="kw">for </span>participant <span class="kw">in </span><span class="kw-2">&amp;</span>participants {
    <span class="macro">assert_eq!</span>(participant.key_set().shared_key(), expected_key);
}

<span class="comment">// Participants can then jointly decrypt messages as showcased
// in the example for the `sharing` module.</span></code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Opening.html" title="struct elastic_elgamal::dkg::Opening">Opening</a></div><div class="desc docblock-short">Opening for a hash commitment used in Pedersen’s distributed key generation.</div></li><li><div class="item-name"><a class="struct" href="struct.ParticipantCollectingCommitments.html" title="struct elastic_elgamal::dkg::ParticipantCollectingCommitments">ParticipantCollectingCommitments</a></div><div class="desc docblock-short">Participant state during the first stage of the committed Pedersen’s distributed key generation.</div></li><li><div class="item-name"><a class="struct" href="struct.ParticipantCollectingPolynomials.html" title="struct elastic_elgamal::dkg::ParticipantCollectingPolynomials">ParticipantCollectingPolynomials</a></div><div class="desc docblock-short">Participant state during the second stage of the committed Pedersen’s distributed key generation.</div></li><li><div class="item-name"><a class="struct" href="struct.ParticipantExchangingSecrets.html" title="struct elastic_elgamal::dkg::ParticipantExchangingSecrets">ParticipantExchangingSecrets</a></div><div class="desc docblock-short">Participant state during the third and final stage of the committed Pedersen’s
distributed key generation.</div></li><li><div class="item-name"><a class="struct" href="struct.PublicInfo.html" title="struct elastic_elgamal::dkg::PublicInfo">PublicInfo</a></div><div class="desc docblock-short">Public participant information in the distributed key generation protocol. Returned by
<a href="struct.ParticipantCollectingPolynomials.html#method.public_info" title="method elastic_elgamal::dkg::ParticipantCollectingPolynomials::public_info"><code>ParticipantCollectingPolynomials::public_info()</code></a>.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Error.html" title="enum elastic_elgamal::dkg::Error">Error</a></div><div class="desc docblock-short">Errors that can occur during the distributed key generation.</div></li></ul></section></div></main></body></html>